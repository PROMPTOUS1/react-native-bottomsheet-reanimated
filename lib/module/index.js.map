{"version":3,"sources":["index.js"],"names":["React","Component","View","StyleSheet","Dimensions","TouchableWithoutFeedback","Animated","Interactable","Screen","width","get","height","showDismisButtonFunction","props","isBackDropDismisByPress","isBackDrop","getSnapPoints","snapPoints","map","snapItem","parentValue","split","snapObject","y","getInitialPosition","snapPoint","BottomPanel","constructor","snap","nativeEvent","index","setState","showDismisButton","refs","bottomPanel","snapTo","_deltaY","Value","state","snapToIndex","points","scrollValueY","render","bottomSheerColor","backDropColor","isRoundBorderWithTipHeader","header","body","isModal","isAnimatedYFromParent","animatedValueY","containerStyle","tipStyle","headerStyle","bodyStyle","initialPosition","styles","panelContainer","backgroundColor","opacity","interpolate","inputRange","outputRange","extrapolateRight","top","bounce","onDrawerSnap","onDismisHandler","marginTop","modal","panel","borderTopLeftRadius","borderTopRightRadius","shadowColor","shadowOffset","shadowRadius","shadowOpacity","panelHandle","panelHeader","create","container","flex","position","alignSelf","borderRadius","marginVertical","padding","bottom","left","right"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SACEC,IADF,EAEEC,UAFF,EAGEC,UAHF,EAIEC,wBAJF,QAKO,cALP;AAMA,OAAOC,QAAP,MAAqB,yBAArB;AAEA,OAAOC,YAAP,MAAyB,sCAAzB;AAEA,MAAMC,MAAM,GAAG;AACbC,EAAAA,KAAK,EAAEL,UAAU,CAACM,GAAX,CAAe,QAAf,EAAyBD,KADnB;AAEbE,EAAAA,MAAM,EAAEP,UAAU,CAACM,GAAX,CAAe,QAAf,EAAyBC;AAFpB,CAAf;;AAKA,MAAMC,wBAAwB,GAAIC,KAAD,IAAW;AAC1C,MAAIA,KAAK,CAACC,uBAAN,IAAiCD,KAAK,CAACE,UAA3C,EAAuD;AACrD,WAAO,IAAP;AACD,GAFD,MAEO;AACL,WAAO,KAAP;AACD;AACF,CAND;;AAQA,MAAMC,aAAa,GAAIC,UAAD,IAAgB;AACpC,SAAOA,UAAU,CAACC,GAAX,CAAgBC,QAAD,IAAc;AAClC,QAAI,OAAOA,QAAP,KAAoB,QAAxB,EAAkC;AAChC,YAAMC,WAAW,GAAGD,QAAQ,CAACE,KAAT,CAAe,GAAf,EAAoB,CAApB,CAApB;AACAF,MAAAA,QAAQ,GAAIX,MAAM,CAACG,MAAP,GAAgB,GAAjB,GAAwBS,WAAnC;AACD;;AACD,UAAME,UAAU,GAAG;AAAEC,MAAAA,CAAC,EAAEf,MAAM,CAACG,MAAP,GAAgBQ;AAArB,KAAnB;AACA,WAAOG,UAAP;AACD,GAPM,CAAP;AAQD,CATD;;AAWA,MAAME,kBAAkB,GAAIC,SAAD,IAAe;AACtC,MAAI,OAAOA,SAAP,KAAqB,QAAzB,EAAmC;AACjC,UAAML,WAAW,GAAGK,SAAS,CAACJ,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAApB;AACAI,IAAAA,SAAS,GAAIjB,MAAM,CAACG,MAAP,GAAgB,GAAjB,GAAwBS,WAApC;AACD;;AACD,QAAME,UAAU,GAAG;AAAEC,IAAAA,CAAC,EAAEf,MAAM,CAACG,MAAP,GAAgBc;AAArB,GAAnB;AACA,SAAOH,UAAP;AACH,CAPD;;AASA,MAAMI,WAAN,SAA0BzB,SAA1B,CAAoC;AAClC0B,EAAAA,WAAW,CAACd,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,0CAWHe,IAAD,IAAU;AACvB,UAAIA,IAAI,CAACC,WAAL,CAAiBC,KAAjB,GAAyB,CAAC,CAA9B,EAAiC;AAC/B,YAAIlB,wBAAwB,CAAC,KAAKC,KAAN,CAA5B,EACE,KAAKkB,QAAL,CAAc;AAAEC,UAAAA,gBAAgB,EAAE;AAApB,SAAd;AACH;;AACD,UAAIJ,IAAI,CAACC,WAAL,CAAiBC,KAAjB,KAA2B,CAA/B,EAAkC;AAChC,YAAIlB,wBAAwB,CAAC,KAAKC,KAAN,CAA5B,EACE,KAAKkB,QAAL,CAAc;AAAEC,UAAAA,gBAAgB,EAAE;AAApB,SAAd;AACH;AACF,KApBkB;;AAAA,6CAsBD,MAAM;AACtB,WAAKC,IAAL,CAAUC,WAAV,CAAsBC,MAAtB,CAA6B;AAAEL,QAAAA,KAAK,EAAE;AAAT,OAA7B;AACD,KAxBkB;;AAAA,oCA0BTA,KAAD,IAAW;AAClB,WAAKG,IAAL,CAAUC,WAAV,CAAsBC,MAAtB,CAA6B;AAACL,QAAAA;AAAD,OAA7B;AACD,KA5BkB;;AAEjB,SAAKM,OAAL,GAAe,IAAI9B,QAAQ,CAAC+B,KAAb,CAAmB7B,MAAM,CAACG,MAA1B,CAAf;AACA,SAAK2B,KAAL,GAAa;AACXC,MAAAA,WAAW,EAAE,CADF;AAEXC,MAAAA,MAAM,EAAE,GAFG;AAGXC,MAAAA,YAAY,EAAE,IAAInC,QAAQ,CAAC+B,KAAb,CAAmB,CAAnB,CAHH;AAIXL,MAAAA,gBAAgB,EAAEpB,wBAAwB,CAACC,KAAD;AAJ/B,KAAb;AAMD;;AAqBD6B,EAAAA,MAAM,GAAG;AACP,UAAM;AACJC,MAAAA,gBAAgB,GAAG,SADf;AAEPC,MAAAA,aAAa,GAAG,SAFT;AAGPC,MAAAA,0BAA0B,GAAC,KAHpB;AAIJC,MAAAA,MAJI;AAKJC,MAAAA,IALI;AAMJhC,MAAAA,UAAU,GAAG,KANT;AAOJiC,MAAAA,OAPI;AAQJC,MAAAA,qBARI;AASPC,MAAAA,cATO;AAUPC,MAAAA,cAVO;AAWPC,MAAAA,QAXO;AAYPC,MAAAA,WAZO;AAaJC,MAAAA,SAbI;AAcJxC,MAAAA;AAdI,QAeF,KAAKD,KAfT;AAgBA,QAAI;AAAEI,MAAAA,UAAF;AAAasC,MAAAA,eAAe,GAAC;AAAEhC,QAAAA,CAAC,EAAE;AAAL;AAA7B,QAA2C,KAAKV,KAApD;AACAI,IAAAA,UAAU,GAAGD,aAAa,CAACC,UAAD,CAA1B;AACAsC,IAAAA,eAAe,GAAG/B,kBAAkB,CAAC+B,eAAD,CAApC;AACA,UAAM;AAAEvB,MAAAA;AAAF,QAAuB,KAAKM,KAAlC;AAEA,wBACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEkB,MAAM,CAACC,cAApB;AAAoC,MAAA,aAAa,EAAE;AAAnD,OAEG1C,UAAU,iBACT,oBAAC,QAAD,CAAU,IAAV;AACE,MAAA,aAAa,EAAE,UADjB;AAEE,MAAA,KAAK,EAAE,CACLyC,MAAM,CAACC,cADF,EAEL;AACEC,QAAAA,eAAe,EAAEd,aADnB;AAEEe,QAAAA,OAAO,EAAEV,qBAAqB,GAC1BC,cAAc,CAACU,WAAf,CAA2B;AACzBC,UAAAA,UAAU,EAAE,CAAC,CAAD,EAAIrD,MAAM,CAACG,MAAP,GAAgB,GAApB,CADa;AAEzBmD,UAAAA,WAAW,EAAE,CAAC,CAAD,EAAI,CAAJ,CAFY;AAGzBC,UAAAA,gBAAgB,EAAE;AAHO,SAA3B,CAD0B,GAM1B,KAAK3B,OAAL,CAAawB,WAAb,CAAyB;AACvBC,UAAAA,UAAU,EAAE,CAAC,CAAD,EAAIrD,MAAM,CAACG,MAAP,GAAgB,GAApB,CADW;AAEvBmD,UAAAA,WAAW,EAAE,CAAC,CAAD,EAAI,CAAJ,CAFU;AAGvBC,UAAAA,gBAAgB,EAAE;AAHK,SAAzB;AARN,OAFK;AAFT,MAHJ,eA0BE,oBAAC,YAAD,CAAc,IAAd;AACE,MAAA,WAAW,EAAEf,OAAO,GAAG,KAAH,GAAW,IADjC;AAEE,MAAA,YAAY,EAAE,IAFhB;AAGE,MAAA,GAAG,EAAC,aAHN;AAIE,MAAA,UAAU,EAAE/B,UAJd;AAKE,MAAA,eAAe,EAAEsC,eALnB;AAME,MAAA,UAAU,EAAE;AAAES,QAAAA,GAAG,EAAEhB,OAAO,GAAG,CAAH,GAAO,CAAC,GAAtB;AAA2BiB,QAAAA,MAAM,EAAEjB,OAAO,GAAG,CAAH,GAAO;AAAjD,OANd;AAOE,MAAA,cAAc,EAAEC,qBAAqB,GAAGC,cAAH,GAAoB,KAAKd,OAPhE;AAQE,MAAA,MAAM,EAAE,KAAK8B;AARf,OAUG,CAAClB,OAAD,IAAYhB,gBAAZ,iBACC,oBAAC,wBAAD;AACE,MAAA,OAAO,EAAE,KAAKmC,eADhB;AAEE,MAAA,QAAQ,EAAErD,uBAAuB,GAAG,KAAH,GAAW;AAF9C,oBAIE,oBAAC,IAAD;AACE,MAAA,KAAK,EAAE;AACLH,QAAAA,MAAM,EAAEH,MAAM,CAACG,MADV;AAEdyD,QAAAA,SAAS,EAAE,CAAC5D,MAAM,CAACG;AAFL;AADT,MAJF,CAXJ,eAwBE,oBAAC,IAAD;AACE,MAAA,KAAK,EAAE,CACLqC,OAAO,GAAGQ,MAAM,CAACa,KAAV,GAAkBb,MAAM,CAACc,KAD3B,EAEL;AAAEZ,QAAAA,eAAe,EAAEf;AAAnB,OAFK,EAGLE,0BAA0B,GACtB;AACEa,QAAAA,eAAe,EAAE,WADnB;AAEEa,QAAAA,mBAAmB,EAAE,EAFvB;AAGEC,QAAAA,oBAAoB,EAAE,EAHxB;AAIEC,QAAAA,WAAW,EAAE,SAJf;AAKEC,QAAAA,YAAY,EAAE;AAAEjE,UAAAA,KAAK,EAAE,CAAT;AAAYE,UAAAA,MAAM,EAAE;AAApB,SALhB;AAMEgE,QAAAA,YAAY,EAAE,CANhB;AAORC,QAAAA,aAAa,EAAE;AAPP,OADsB,GAU9B,EAbS,EAcXzB,cAdW;AADT,OAkBG,CAACH,OAAD,IAAYH,0BAAZ,iBAA0C,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE,CAACW,MAAM,CAACqB,WAAR,EAAoBzB,QAApB;AAAb,MAlB7C,EAmBG,CAACJ,OAAD,iBAAY,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE,CAACQ,MAAM,CAACsB,WAAR,EAAoBzB,WAApB;AAAb,OAAgDP,MAAhD,CAnBf,eAoBE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEQ;AAAb,OAAyBP,IAAzB,CApBF,CAxBF,CA1BF,CADF;AA4ED;;AAjIiC;;AAoIpC,MAAMS,MAAM,GAAGrD,UAAU,CAAC4E,MAAX,CAAkB;AAC/BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,IAAI,EAAE;AADG,GADoB;AAI/BJ,EAAAA,WAAW,EAAE;AACXK,IAAAA,QAAQ,EAAE,UADC;AAEXC,IAAAA,SAAS,EAAE,QAFA;AAGX1E,IAAAA,KAAK,EAAE,EAHI;AAIXE,IAAAA,MAAM,EAAE,CAJG;AAKXyE,IAAAA,YAAY,EAAE,CALH;AAMX1B,IAAAA,eAAe,EAAE,WANN;AAOX2B,IAAAA,cAAc,EAAE;AAPL,GAJkB;AAa/Bf,EAAAA,KAAK,EAAE;AACL3D,IAAAA,MAAM,EAAEH,MAAM,CAACG,MAAP,GAAgB;AADnB,GAbwB;AAgB/B0D,EAAAA,KAAK,EAAE;AACL1D,IAAAA,MAAM,EAAEH,MAAM,CAACG,MAAP,GAAgB;AADnB,GAhBwB;AAmB/BmE,EAAAA,WAAW,EAAE;AACXQ,IAAAA,OAAO,EAAE;AADE,GAnBkB;AAsB/B7B,EAAAA,cAAc,EAAE;AACdyB,IAAAA,QAAQ,EAAE,UADI;AAEdlB,IAAAA,GAAG,EAAE,CAFS;AAGduB,IAAAA,MAAM,EAAE,CAHM;AAIdC,IAAAA,IAAI,EAAE,CAJQ;AAKdC,IAAAA,KAAK,EAAE;AALO;AAtBe,CAAlB,CAAf,C,CA8BA;;AACA,eAAe/D,WAAf","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  View,\n  StyleSheet,\n  Dimensions,\n  TouchableWithoutFeedback,\n} from \"react-native\";\nimport Animated from \"react-native-reanimated\";\n\nimport Interactable from \"react-native-interactable-reanimated\";\n\nconst Screen = {\n  width: Dimensions.get(\"window\").width,\n  height: Dimensions.get(\"window\").height,\n};\n\nconst showDismisButtonFunction = (props) => {\n  if (props.isBackDropDismisByPress && props.isBackDrop) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nconst getSnapPoints = (snapPoints) => {\n  return snapPoints.map((snapItem) => {\n    if (typeof snapItem === \"string\") {\n      const parentValue = snapItem.split(\"%\")[0];\n      snapItem = (Screen.height / 100) * parentValue;\n    }\n    const snapObject = { y: Screen.height - snapItem };\n    return snapObject;\n  });\n};\n\nconst getInitialPosition = (snapPoint) => {\n    if (typeof snapPoint === \"string\") {\n      const parentValue = snapPoint.split(\"%\")[0];\n      snapPoint = (Screen.height / 100) * parentValue;\n    }\n    const snapObject = { y: Screen.height - snapPoint };\n    return snapObject;\n};\n\nclass BottomPanel extends Component {\n  constructor(props) {\n    super(props);\n    this._deltaY = new Animated.Value(Screen.height);\n    this.state = {\n      snapToIndex: 0,\n      points: 100,\n      scrollValueY: new Animated.Value(0),\n      showDismisButton: showDismisButtonFunction(props),\n    };\n  }\n\n  onDrawerSnap = (snap) => {\n    if (snap.nativeEvent.index > -1) {\n      if (showDismisButtonFunction(this.props))\n        this.setState({ showDismisButton: true });\n    }\n    if (snap.nativeEvent.index === 0) {\n      if (showDismisButtonFunction(this.props))\n        this.setState({ showDismisButton: false });\n    }\n  };\n\n  onDismisHandler = () => {\n    this.refs.bottomPanel.snapTo({ index: 0 });\n  };\n\n  snapTo = (index) => {\n    this.refs.bottomPanel.snapTo({index});\n  };\n\n  render() {\n    const {\n      bottomSheerColor = \"#FFFFFF\",\n\t\t\tbackDropColor = \"#000000\",\n\t\t\tisRoundBorderWithTipHeader=false,\n      header,\n      body,\n      isBackDrop = false,\n      isModal,\n      isAnimatedYFromParent,\n\t\t\tanimatedValueY,\n\t\t\tcontainerStyle,\n\t\t\ttipStyle,\n\t\t\theaderStyle,\n      bodyStyle,\n      isBackDropDismisByPress\n    } = this.props;\n    let { snapPoints,initialPosition={ y: 0 }, } = this.props;\n    snapPoints = getSnapPoints(snapPoints);\n    initialPosition = getInitialPosition(initialPosition);\n    const { showDismisButton } = this.state;\n\n    return (\n      <View style={styles.panelContainer} pointerEvents={\"box-none\"}>\n        {/* Backdrop */}\n        {isBackDrop && (\n          <Animated.View\n            pointerEvents={\"box-none\"}\n            style={[\n              styles.panelContainer,\n              {\n                backgroundColor: backDropColor,\n                opacity: isAnimatedYFromParent\n                  ? animatedValueY.interpolate({\n                      inputRange: [0, Screen.height - 100],\n                      outputRange: [1, 0],\n                      extrapolateRight: \"clamp\",\n                    })\n                  : this._deltaY.interpolate({\n                      inputRange: [0, Screen.height - 100],\n                      outputRange: [1, 0],\n                      extrapolateRight: \"clamp\",\n                    }),\n              },\n            ]}\n          />\n        )}\n\n        {/* Bottom Panel */}\n        <Interactable.View\n          dragEnabled={isModal ? false : true}\n          verticalOnly={true}\n          ref=\"bottomPanel\"\n          snapPoints={snapPoints}\n          initialPosition={initialPosition}\n          boundaries={{ top: isModal ? 0 : -300, bounce: isModal ? 0 : 0.5 }}\n          animatedValueY={isAnimatedYFromParent ? animatedValueY : this._deltaY}\n          onSnap={this.onDrawerSnap}\n        >\n          {!isModal && showDismisButton && (\n            <TouchableWithoutFeedback\n              onPress={this.onDismisHandler}\n              disabled={isBackDropDismisByPress ? false : true}\n            >\n              <View\n                style={{\n                  height: Screen.height,\n\t\t\t\t\t\t\t\t\tmarginTop: -Screen.height\n                }}\n              />\n            </TouchableWithoutFeedback>\n          )}\n\n          <View\n            style={[\n              isModal ? styles.modal : styles.panel,\n              { backgroundColor: bottomSheerColor },\n              isRoundBorderWithTipHeader\n                ? {\n                    backgroundColor: \"#f7f5eee8\",\n                    borderTopLeftRadius: 12,\n                    borderTopRightRadius: 12,\n                    shadowColor: \"#000000\",\n                    shadowOffset: { width: 0, height: 0 },\n                    shadowRadius: 5,\n\t\t\t\t\t\t\t\t\t\tshadowOpacity: 0.4\n                  }\n\t\t\t\t\t\t\t\t: {},\n\t\t\t\t\t\t\t\tcontainerStyle\n            ]}\n          >\n            {!isModal && isRoundBorderWithTipHeader && <View style={[styles.panelHandle,tipStyle]} />}\n            {!isModal && <View style={[styles.panelHeader,headerStyle]}>{header}</View>}\n            <View style={bodyStyle}>{body}</View>\n          </View>\n        </Interactable.View>\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  panelHandle: {\n    position: \"absolute\",\n    alignSelf: \"center\",\n    width: 40,\n    height: 6,\n    borderRadius: 4,\n    backgroundColor: \"#00000040\",\n    marginVertical: 8,\n  },\n  panel: {\n    height: Screen.height + 300,\n  },\n  modal: {\n    height: Screen.height + 300,\n  },\n  panelHeader: {\n    padding: 30,\n  },\n  panelContainer: {\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n  },\n});\n// BottomPanel.BottomPanelOffset = 80;\nexport default BottomPanel;\n"]}